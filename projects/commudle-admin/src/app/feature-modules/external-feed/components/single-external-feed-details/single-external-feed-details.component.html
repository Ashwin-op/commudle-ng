<div class="single-external-feed-details page-padding">
  <nb-card class="single-external-feed" *ngIf="feedPost">
    <nb-card-body>
      <div class="header">
        <div class="images" *ngIf="feedPost.image_url.length > 0">
          <div class="image-stripe">
            <div class="image clickable">
              <img src="{{ feedPost.image_url }}" alt="{{ feedPost.source }}">
            </div>
          </div>
        </div>
        <h1>
          {{ feedPost.title }}
        </h1>
        <div class="tags">
          <app-badge *ngFor="let tag of feedPost.tags" [text]="tag" [color]="'#b7b7b7'"></app-badge>
        </div>
        <p class="source">
          {{ feedPost.source }}
          <br>
          <small>
            {{ moment(feedPost.created_at).format('Do MMM YYYY') }}
          </small>
        </p>
      </div>
      <div *ngIf="embedCode" class="embed" [innerHTML]="embedCode">
      </div>
      <div *ngIf="feedPost.link && !embedCode" class="link">
        <p>
          Visit the original post on:
          <a target="_blank" href="{{ feedPost.link }}">
            {{ feedPost.source }}
            <nb-icon icon="external-link"></nb-icon>
          </a>
        </p>
      </div>
      <div class="description">
        <div [innerHTML]="feedPost.description"></div>
      </div>
      <div class="stats">
        <p class="stars">
          <app-votes-display [votableType]="'SingleExternalFeed'" [votableId]="feedPost.id" [icon]="'heart'">
          </app-votes-display>
        </p>
      </div>
      <div class="comments" *ngIf="discussionChat">
        <p>Comments</p>
        <app-discussion-chat [discussion]="discussionChat"></app-discussion-chat>
      </div>
    </nb-card-body>
  </nb-card>
</div>
