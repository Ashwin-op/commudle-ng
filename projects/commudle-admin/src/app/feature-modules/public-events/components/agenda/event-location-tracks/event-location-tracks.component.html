<div *ngIf="eventLocation" class="event-location-tracks">
  <div *ngIf="eventLocation.location" class="map-location">
    <p>
      <strong>Address: </strong>
      <a href="{{ eventLocation.location.map_link }}" target="_blank">{{ eventLocation.location.address }}</a>
    </p>
  </div>

  <div class="track-container">
    <nb-card *ngFor="let elt of eventLocation.event_location_tracks; let elti = index;">
      <nb-card-header>
        <p class="track-name">{{ elt.name | slice:0:15 }} </p>&nbsp;
        <nb-icon *ngIf="elt.embedded_video_stream" icon="video-outline"></nb-icon>
      </nb-card-header>
      <nb-card-body style="padding: 0;">
        <nb-list>
          <nb-list-item *ngFor="let slot of elt.track_slots; let tsi = index;">
            <nb-actions class="medium">
              <nb-action>
                <div class="session-time">
                  <p>{{ moment(slot.start_time).format('HH:mm') }}</p>
                  <p>{{ moment(slot.end_time).format('HH:mm') }}</p>
                </div>
              </nb-action>
              <nb-action>
                <div class="session-title">
                  <p>{{ slot.session_title }}</p>
                  <div *ngIf="slot.tags_list">
                    <app-badge *ngFor="let tag of slot.tags_list.split(',')"
                               [fontSize]="'small'" [text]="tag"></app-badge>
                  </div>
                </div>
              </nb-action>
              <nb-action *ngIf="slot.user">
                <div class="session-speaker">
                  <nb-icon icon="person-outline"></nb-icon>&nbsp;
                  <small>{{ slot.user.name }}</small>
                </div>
              </nb-action>
              <nb-action *ngIf="slot.user_vote != null && event.editable">
                <div (click)="toggleVote(slot.id, tsi, elti)" class="clickable">
                  <nb-icon *ngIf="slot.user_vote == true" icon="heart" status="info"></nb-icon>
                  <nb-icon *ngIf="!slot.user_vote" icon="heart-outline" status="basic"></nb-icon>
                </div>
              </nb-action>
              <nb-action>
                <a [queryParams]="{track_slot_id: slot.id}"
                   [routerLink]="['/communities', community.slug, 'events', event.slug, 'session']" target="_blank">
                  <nb-icon icon="external-link"></nb-icon>
                </a>
              </nb-action>
            </nb-actions>
          </nb-list-item>
        </nb-list>
      </nb-card-body>
    </nb-card>
  </div>
</div>
