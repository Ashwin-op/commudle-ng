<div class="clickable votes size-{{size}}">
  <p [ngSwitch]="icon">
    <span
      *ngIf="totalVotes > 0"
      [nbPopoverContext]="{ votableId: votableId, votableType: votableType }"
      [nbPopover]="VotersComponent"
      class="count"
      nbPopoverTrigger="hover">
      {{ totalVotes }}
    </span>
    <span (click)="toggleVote()">
      <nb-icon
        *ngSwitchCase="'heart'"
        [ngClass]="{'voted-heart': myVote, 'unvoted': !myVote, 'has-votes': totalVotes > 0}"
        class="hear"
        icon="heart">
      </nb-icon>
      <nb-icon
        *ngSwitchCase="'heart-outline'"
        [ngClass]="{'voted-heart': myVote, 'unvoted': !myVote, 'has-votes': totalVotes > 0}"
        class="hear"
        icon="heart-outline">
      </nb-icon>
      <nb-icon
        *ngSwitchCase="'star'"
        [ngClass]="{'voted-star': myVote, 'unvoted': !myVote, 'has-votes': totalVotes > 0}"
        class="star"
        icon="star">
      </nb-icon>
    </span>
  </p>
</div>
